<!DOCTYPE html>
<html>
<head>
    <title>Employee List</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src="https://kit.fontawesome.com/4d273d6914.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
table, th, td {
  border:1px solid black;
}



</style>
<body>
{% extends "base.html" %}

{% block content %}

<center>
    <div class="w3-container">

    <h1 style="color:blue;">Employee List</h1>
    </div>



<form action="{{ url_for('employee_list') }}" method="POST">
    <label for="field">Field:</label>
    <select name="field" id="field">
        <option value="employee_id">Employee ID</option>
        <option value="first_name">First Name</option>
        <option value="last_name">Last Name</option>
        <option value="employee_post">Employee Post</option>
        <option value="salary">Salary</option>
    </select>
<!--</head>-->


    <label for="operation">Operation:</label>
    <select name="operation" id="operation">
<!--        {% if field == 'salary' %}-->
            <option value="equal">Equal to</option>
            <option value="not_equal">Not equal</option>
            <option value="less_than">Less than</option>
            <option value="greater_than">Greater than</option>
<!--        {% else %}-->
            <option value="equal">Equal to</option>
            <option value="not_equal">Not equal to</option>

<!--        {% endif %}-->
    </select>

    <label for="value">Value:</label>
    <input type="text" name="value" id="value">

    <button type="submit">Search</button>
</form>

    <br><br>
    <div>
    <table style="width:50%">
        <thead>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Post</th>
                <th>Salary</th>
            </tr>
        </thead>
        <tbody>
            {% for employee in employees %}
                <tr>
                    <td>{{ employee[0] }}</td>
                    <td>{{ employee[1] }}</td>
                    <td>{{ employee[2] }}</td>
                    <td>{{ employee[3] }}</td>
                    <td>{{ employee[4] }}</td>

                    <td>
                        <a href="{{ url_for('edit_employee', employee_id=employee[0]) }}"><i class='fas fa-clone' style='color:black'></i>
</a><br>
                        <a href="{{ url_for('delete_employee', employee_id=employee[0]) }}"><i class="fa fa-trash"></i></a><br>
                    </td>
                </tr>

            {% endfor %}
        </tbody>
    </table>
</div>


</center>
    <script>
            console.log("abith");
        $(document).ready(function() {
        console.log("abith");
            $('#field').change(function() {
            console.log("abith");
                var selectedValue = $(this).val();
                var secondDropdown = $('#operation');
                // Clear existing options
                secondDropdown.empty();
                // Add new options based on the selected value
                if (selectedValue === 'salary') {
                    secondDropdown.append('<option value="equal">Equal</option>');
                    secondDropdown.append('<option value="not_equal">Not equal</option>');
                    secondDropdown.append('<option value="less_than">Less than</option>');
                    secondDropdown.append('<option value="greater_than">Greater than</option>');
                } else{
                    secondDropdown.append('<option value="equal">Equal</option>');
                    secondDropdown.append('<option value="not_equal">Not equal</option>');
                }
            });
        });
    </script>

{% endblock %}
</body>
</html>




